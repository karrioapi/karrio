# Generated by Django 5.2.10 on 2026-01-22 14:29

import django.core.validators
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("pricing", "0077_migrate_surcharge_to_markup_data"),
    ]

    operations = [
        migrations.RemoveField(
            model_name="surcharge",
            name="carrier_accounts",
        ),
        migrations.RenameIndex(
            model_name="fee",
            new_name="fee_shipmen_cf6644_idx",
            old_name="fee_shipmen_d4e9f2_idx",
        ),
        migrations.RenameIndex(
            model_name="fee",
            new_name="fee_markup__6438ea_idx",
            old_name="fee_markup__29f8a1_idx",
        ),
        migrations.RenameIndex(
            model_name="fee",
            new_name="fee_carrier_86bb46_idx",
            old_name="fee_carrier_3c7b8e_idx",
        ),
        migrations.RenameIndex(
            model_name="fee",
            new_name="fee_created_050ccc_idx",
            old_name="fee_created_a1b2c3_idx",
        ),
        migrations.AlterField(
            model_name="fee",
            name="markup",
            field=models.ForeignKey(
                blank=True,
                help_text="The markup that generated this fee (null if markup was deleted)",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="fees",
                to="pricing.markup",
            ),
        ),
        migrations.AlterField(
            model_name="markup",
            name="amount",
            field=models.FloatField(
                default=0.0,
                help_text="\n        The markup amount or percentage to add to the quote.\n        For AMOUNT type: the exact dollar amount to add.\n        For PERCENTAGE type: the percentage (e.g., 5 means 5%).\n        ",
                validators=[django.core.validators.MinValueValidator(0.0)],
            ),
        ),
        migrations.AlterField(
            model_name="markup",
            name="carrier_codes",
            field=models.JSONField(
                blank=True,
                default=list,
                help_text='\n        List of carrier codes to apply the markup to (e.g., ["fedex", "ups"]).\n        Empty list means apply to all carriers.\n        ',
            ),
        ),
        migrations.AlterField(
            model_name="markup",
            name="connection_ids",
            field=models.JSONField(
                blank=True,
                default=list,
                help_text='\n        List of connection IDs to apply the markup to (e.g., ["car_xxx", "car_yyy"]).\n        Supports all connection types: CarrierConnection, SystemConnection, BrokeredConnection.\n        Empty list means apply to all connections.\n        ',
            ),
        ),
        migrations.AlterField(
            model_name="markup",
            name="markup_type",
            field=models.CharField(
                choices=[("AMOUNT", "AMOUNT"), ("PERCENTAGE", "PERCENTAGE")],
                default="AMOUNT",
                help_text="\n        Determine whether the markup is in percentage or net amount.\n        AMOUNT: rate ($22) + amount (1) = $23\n        PERCENTAGE: rate ($22) * 5% = $23.10\n        ",
                max_length=25,
            ),
        ),
        migrations.AlterField(
            model_name="markup",
            name="organization_ids",
            field=models.JSONField(
                blank=True,
                default=list,
                help_text="\n        List of organization IDs to apply the markup to.\n        Empty list means apply to all organizations (system-wide).\n        ",
            ),
        ),
        migrations.AlterField(
            model_name="markup",
            name="service_codes",
            field=models.JSONField(
                blank=True,
                default=list,
                help_text='\n        List of service codes to apply the markup to (e.g., ["fedex_ground", "ups_next_day"]).\n        Empty list means apply to all services.\n        ',
            ),
        ),
        migrations.DeleteModel(
            name="Surcharge",
        ),
    ]
